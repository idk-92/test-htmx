<div class=\"p-2\"><input type=\"file\" id=\"videoUpload\"><video width=\"320\" height=\"240\" style=\"display:none\" controls autoplay=\"false\">Your browser does not support the video tag.</video><script>\n       document.getElementById(\"videoUpload\").onchange = function(event) {\n        let file = event.target.files[0];\n        let blobURL = URL.createObjectURL(file);\n        document.querySelector(\"video\").style.display = 'block';\n        document.querySelector(\"video\").src = blobURL;\n        }\n        </script></div>
<div class=\"js-upload !cursor-pointer uk-placeholder uk-text-center .uk-dragover \" uk-form-custom><span uk-icon=\"icon: cloud-upload\"></span> <span class=\"uk-text-middle !cursor-pointer\">Attach binaries by dropping them here or</span> <input type=\"file\" multiple></div><progress id=\"js-progressbar\" class=\"uk-progress\" value=\"0\" max=\"100\" hidden></progress><script>\n  var bar = document.getElementById(\"js-progressbar\");\n \n  UIkit.upload(\".js-upload\", {\n    url: \"localhost:3333/video-upload\",\n    multiple: true,\n \n    beforeSend: function () {\n      console.log(\"beforeSend\", arguments);\n    },\n    beforeAll: function () {\n      console.log(\"beforeAll\", arguments);\n    },\n    load: function () {\n      console.log(\"load\", arguments);\n    },\n    error: function () {\n      console.log(\"error\", arguments);\n    },\n    complete: function () {\n      console.log(\"complete\", arguments);\n    },\n \n    loadStart: function (e) {\n      console.log(\"loadStart\", arguments);\n \n      bar.removeAttribute(\"hidden\");\n      bar.max = e.total;\n      bar.value = e.loaded;\n    },\n \n    progress: function (e) {\n      console.log(\"progress\", arguments);\n \n      bar.max = e.total;\n      bar.value = e.loaded;\n    },\n \n    loadEnd: function (e) {\n      console.log(\"loadEnd\", arguments);\n \n      bar.max = e.total;\n      bar.value = e.loaded;\n    },\n \n    completeAll: function () {\n      console.log(\"completeAll\", arguments);\n \n      setTimeout(function () {\n        bar.setAttribute(\"hidden\", \"hidden\");\n      }, 1000);\n \n      alert(\"Upload Completed\");\n    },\n  });\n\n\n  document.getElementById(\"videoUpload\").onchange = function(event) {\n  let file = event.target.files[0];\n  let blobURL = URL.createObjectURL(file);\n  document.querySelector(\"video\").style.display = 'block';\n  document.querySelector(\"video\").src = blobURL;\n}\n\n$(function() {\n    $('.upload-video-file').on('change', function(){\n      if (isVideo($(this).val())){\n        $('.video-preview').attr('src', URL.createObjectURL(this.files[0]));\n        $('.video-prev').show();\n      }\n      else\n      {\n        $('.upload-video-file').val('');\n        $('.video-prev').hide();\n        alert(\"Only video files are allowed to upload.\")\n      }\n    });\n});\n\n// If user tries to upload videos other than these extension , it will throw error.\nfunction isVideo(filename) {\n    var ext = getExtension(filename);\n    switch (ext.toLowerCase()) {\n    case 'm4v':\n    case 'avi':\n    case 'mp4':\n    case 'mov':\n    case 'mpg':\n    case 'mpeg':\n        // etc\n        return true;\n    }\n    return false;\n}\n\nfunction getExtension(filename) {\n    var parts = filename.split('.');\n    return parts[parts.length - 1];\n}\n</script>
